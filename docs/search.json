[
  {
    "objectID": "Homework 2.html",
    "href": "Homework 2.html",
    "title": "Some Programming in Base R",
    "section": "",
    "text": "Task 1\nWe are analyzing blood pressure before and after a medical treatment.\n\n1.\nFirst, we will create the vectors corresponding to pre-treatment and post-treatment blood pressures.\n\n#Pre-treatment blood pressure\npre_treat_bp&lt;-c(120, 151, 125, 126, 115, 132, 132, 129, 134, 139, 127, 122, \n                127, 135, 133, 128, 147, 138, 140, 132)\n\n#Post-treatment blood pressure\npost_treat_bp&lt;-c(127, 145, 135, 122, 115, 122, 123, 126, 126, 129, 132, 146, \n                 120, 114, 121, 120, 128, 120, 133, 115)\n\n\n\n2.\nNext, we will assign names to each observation in each vector, corresponding to the subject each observation belongs to.\n\n#Assigning names to pre-treatment vector\nnames(pre_treat_bp)&lt;-paste(\"Subject\", 1:20, sep = \"_\")\n\n#Assigning names to post-treatment vector\nnames(post_treat_bp)&lt;-paste(\"Subject\", 1:20, sep = \"_\")\n\n\n\n3.\nNext, we will take the difference between pre-treatment blood pressures and post-treatment pressures. The subject-specific differences are printed below.\n\n#Calculating differences in BP\ndiff_bp&lt;-pre_treat_bp-post_treat_bp\n\n#Printing the differences\ndiff_bp\n\n Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 \n        -7          6        -10          4          0         10          9 \n Subject_8  Subject_9 Subject_10 Subject_11 Subject_12 Subject_13 Subject_14 \n         3          8         10         -5        -24          7         21 \nSubject_15 Subject_16 Subject_17 Subject_18 Subject_19 Subject_20 \n        12          8         19         18          7         17 \n\n\n\n\n4.\nNext, we will calculate the average difference across the 20 subjects: 5.65.\n\n#Calculating average difference\nmean_diff_bp&lt;-mean(diff_bp)\n\n#Printing average\nmean_diff_bp\n\n[1] 5.65\n\n\n\n\n5.\nNext, we will identify the subjects that experienced a decrease in blood pressure following treatment. Those 15 subjects are listed below.\n\n#Identifying which subjects experienced a decrease in BP\nwhich(diff_bp&gt; 0)\n\n Subject_2  Subject_4  Subject_6  Subject_7  Subject_8  Subject_9 Subject_10 \n         2          4          6          7          8          9         10 \nSubject_13 Subject_14 Subject_15 Subject_16 Subject_17 Subject_18 Subject_19 \n        13         14         15         16         17         18         19 \nSubject_20 \n        20 \n\n\n\n\n6.\nNext, we will subset the vector of differences to capture only those subjects that experienced a decrease in blood pressure (positive change). The resultant vector is listed below.\n\n#Creating a vector of only the positive differences\npos_diff_bp&lt;-diff_bp[diff_bp&gt; 0]\n\n#Printing vector\npos_diff_bp\n\n Subject_2  Subject_4  Subject_6  Subject_7  Subject_8  Subject_9 Subject_10 \n         6          4         10          9          3          8         10 \nSubject_13 Subject_14 Subject_15 Subject_16 Subject_17 Subject_18 Subject_19 \n         7         21         12          8         19         18          7 \nSubject_20 \n        17 \n\n\n\n\n7.\nFinally, we will calculate the average decrease among only those that experienced a decrease: 10.6\n\n#Calculating average difference for only positive changes\nmean_pos_diff_bp&lt;-mean(pos_diff_bp)\n\n#Printing average\nmean_pos_diff_bp\n\n[1] 10.6\n\n\n\n\n\nTask 2\nWe now combine our data from Task 1 in a data frame.\n\n1.\nFirst, we create the data frame.\n\n#Creating initial data frame, preventing data frame from inheriting column names from numeric vectors\nbp_data&lt;-data.frame(patient=names(pre_treat_bp),pre_bp=pre_treat_bp,post_bp=post_treat_bp,diff_bp=diff_bp,row.names=NULL)\n\n\n\n2.\nNext, we explore the patients with negative differences between pre-treatment blood pressure and post-treatment blood pressure. The records for those patients are printed below.\n\nbp_data_neg_diff&lt;-bp_data[bp_data$diff_bp&lt; 0,]\nbp_data_neg_diff\n\n      patient pre_bp post_bp diff_bp\n1   Subject_1    120     127      -7\n3   Subject_3    125     135     -10\n11 Subject_11    127     132      -5\n12 Subject_12    122     146     -24\n\n\n\n\n3.\nNext, we create a new column in our data frame indicating whether post-treatment blood pressure was below 120 (TRUE) or not (FALSE).\n\n#Adding an indicator for whether post-treatment BP is below 120\nbp_data$post_bp_sub120&lt;-(bp_data$post_bp&lt; 120)\n\n\n\n4.\nFinally, we print our data frame as a table.\n\nknitr::kable(bp_data)\n\n\n\n\npatient\npre_bp\npost_bp\ndiff_bp\npost_bp_sub120\n\n\n\n\nSubject_1\n120\n127\n-7\nFALSE\n\n\nSubject_2\n151\n145\n6\nFALSE\n\n\nSubject_3\n125\n135\n-10\nFALSE\n\n\nSubject_4\n126\n122\n4\nFALSE\n\n\nSubject_5\n115\n115\n0\nTRUE\n\n\nSubject_6\n132\n122\n10\nFALSE\n\n\nSubject_7\n132\n123\n9\nFALSE\n\n\nSubject_8\n129\n126\n3\nFALSE\n\n\nSubject_9\n134\n126\n8\nFALSE\n\n\nSubject_10\n139\n129\n10\nFALSE\n\n\nSubject_11\n127\n132\n-5\nFALSE\n\n\nSubject_12\n122\n146\n-24\nFALSE\n\n\nSubject_13\n127\n120\n7\nFALSE\n\n\nSubject_14\n135\n114\n21\nTRUE\n\n\nSubject_15\n133\n121\n12\nFALSE\n\n\nSubject_16\n128\n120\n8\nFALSE\n\n\nSubject_17\n147\n128\n19\nFALSE\n\n\nSubject_18\n138\n120\n18\nFALSE\n\n\nSubject_19\n140\n133\n7\nFALSE\n\n\nSubject_20\n132\n115\n17\nTRUE\n\n\n\n\n\n\n\n\nTask 3\n\n1.\nFirst, we will create a data frame for the control group that structurally matches the treatment group.\n\n#Creating initial data frame with pre-\"treatment\" and post-\"treatment BP\nbp_data_control&lt;-data.frame(patient=paste(\"Subject\", 1:10, sep = \"_\"),\n                    pre_bp=c(138, 135, 147, 117, 152, 134, 114, 121, 131, 130),\n                    post_bp=c(105, 136, 123, 130, 134, 143, 135, 139, 120, 124),\n                    row.names=NULL)\n\n#Adding difference column between pre- and post-treatment BP\nbp_data_control$diff_bp&lt;-bp_data_control$pre_bp-bp_data_control$post_bp\n\n#Adding an indicator for whether post-treatment BP is below 120\nbp_data_control$post_bp_sub120&lt;-(bp_data_control$post_bp&lt; 120)\n\n\n\n2.\nNext, we will combine the data frame from Task 2 with our new data frame in a list.\n\n#Creating list combining treatment and placebo data frames\nexperiment_data&lt;-list(treatment=bp_data,placebo=bp_data_control)\n\n\n\n3.\nNext, we will access the first element of the list, treatment, using three different types of syntax:\n\nexperiment_data[1] will return the first element while retaining the list structure\nexperiment_data[[1]] will return the first element in its original data frame structure\nexperiment_data$treatment will also return the first element in its original data frame structure\n\n\n#Returning the first element using []\nexperiment_data[1]\n\n$treatment\n      patient pre_bp post_bp diff_bp post_bp_sub120\n1   Subject_1    120     127      -7          FALSE\n2   Subject_2    151     145       6          FALSE\n3   Subject_3    125     135     -10          FALSE\n4   Subject_4    126     122       4          FALSE\n5   Subject_5    115     115       0           TRUE\n6   Subject_6    132     122      10          FALSE\n7   Subject_7    132     123       9          FALSE\n8   Subject_8    129     126       3          FALSE\n9   Subject_9    134     126       8          FALSE\n10 Subject_10    139     129      10          FALSE\n11 Subject_11    127     132      -5          FALSE\n12 Subject_12    122     146     -24          FALSE\n13 Subject_13    127     120       7          FALSE\n14 Subject_14    135     114      21           TRUE\n15 Subject_15    133     121      12          FALSE\n16 Subject_16    128     120       8          FALSE\n17 Subject_17    147     128      19          FALSE\n18 Subject_18    138     120      18          FALSE\n19 Subject_19    140     133       7          FALSE\n20 Subject_20    132     115      17           TRUE\n\n#Returning the first element using [[]]\nexperiment_data[[1]]\n\n      patient pre_bp post_bp diff_bp post_bp_sub120\n1   Subject_1    120     127      -7          FALSE\n2   Subject_2    151     145       6          FALSE\n3   Subject_3    125     135     -10          FALSE\n4   Subject_4    126     122       4          FALSE\n5   Subject_5    115     115       0           TRUE\n6   Subject_6    132     122      10          FALSE\n7   Subject_7    132     123       9          FALSE\n8   Subject_8    129     126       3          FALSE\n9   Subject_9    134     126       8          FALSE\n10 Subject_10    139     129      10          FALSE\n11 Subject_11    127     132      -5          FALSE\n12 Subject_12    122     146     -24          FALSE\n13 Subject_13    127     120       7          FALSE\n14 Subject_14    135     114      21           TRUE\n15 Subject_15    133     121      12          FALSE\n16 Subject_16    128     120       8          FALSE\n17 Subject_17    147     128      19          FALSE\n18 Subject_18    138     120      18          FALSE\n19 Subject_19    140     133       7          FALSE\n20 Subject_20    132     115      17           TRUE\n\n#Returning the first element using the $ operator\nexperiment_data$treatment\n\n      patient pre_bp post_bp diff_bp post_bp_sub120\n1   Subject_1    120     127      -7          FALSE\n2   Subject_2    151     145       6          FALSE\n3   Subject_3    125     135     -10          FALSE\n4   Subject_4    126     122       4          FALSE\n5   Subject_5    115     115       0           TRUE\n6   Subject_6    132     122      10          FALSE\n7   Subject_7    132     123       9          FALSE\n8   Subject_8    129     126       3          FALSE\n9   Subject_9    134     126       8          FALSE\n10 Subject_10    139     129      10          FALSE\n11 Subject_11    127     132      -5          FALSE\n12 Subject_12    122     146     -24          FALSE\n13 Subject_13    127     120       7          FALSE\n14 Subject_14    135     114      21           TRUE\n15 Subject_15    133     121      12          FALSE\n16 Subject_16    128     120       8          FALSE\n17 Subject_17    147     128      19          FALSE\n18 Subject_18    138     120      18          FALSE\n19 Subject_19    140     133       7          FALSE\n20 Subject_20    132     115      17           TRUE\n\n\n\n\n4.\nFinally, we will access the pre_bp column of placebo using only a single line of code. Note that I am preserving the data frame structure so pre_bp displays as a column. Alternatively, experiment_data$placebo$pre_bp would’ve produced the column as a vector.\n\n#Accessing pre_bp in placebo element\nexperiment_data$placebo[\"pre_bp\"]\n\n   pre_bp\n1     138\n2     135\n3     147\n4     117\n5     152\n6     134\n7     114\n8     121\n9     131\n10    130"
  }
]